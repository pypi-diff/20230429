# Comparing `tmp/k1lib-1.3.5.2-py3-none-any.whl.zip` & `tmp/k1lib-1.3.5.3-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,19 +1,19 @@
-Zip file size: 2520895 bytes, number of entries: 82
+Zip file size: 2521114 bytes, number of entries: 82
 -rw-rw-r--  2.0 unx     1435 b- defN 23-Feb-08 00:13 k1lib/__init__.py
 -rw-rw-r--  2.0 unx    53793 b- defN 23-Apr-02 08:25 k1lib/_baseClasses.py
 -rw-rw-r--  2.0 unx    12952 b- defN 23-Apr-24 20:20 k1lib/_basics.py
 -rw-rw-r--  2.0 unx     4234 b- defN 22-Dec-23 14:19 k1lib/_context.py
 -rw-rw-r--  2.0 unx     2866 b- defN 22-Jul-20 04:30 k1lib/_higher.py
 -rw-rw-r--  2.0 unx      948 b- defN 22-Sep-21 23:54 k1lib/_k1a.py
 -rw-rw-r--  2.0 unx    11646 b- defN 23-Jan-14 15:37 k1lib/_learner.py
 -rw-rw-r--  2.0 unx    19050 b- defN 23-Apr-17 06:59 k1lib/_monkey.py
 -rw-rw-r--  2.0 unx     3571 b- defN 21-Nov-04 18:35 k1lib/_perlin.py
 -rw-rw-r--  2.0 unx    13377 b- defN 21-Dec-29 02:58 k1lib/eqn.py
--rw-rw-r--  2.0 unx     4828 b- defN 23-Feb-01 06:14 k1lib/fmt.py
+-rw-rw-r--  2.0 unx     5287 b- defN 23-Apr-28 22:54 k1lib/fmt.py
 -rw-rw-r--  2.0 unx     6398 b- defN 22-Sep-29 08:23 k1lib/graphEqn.py
 -rw-rw-r--  2.0 unx     2555 b- defN 23-Apr-28 15:36 k1lib/imports.py
 -rw-rw-r--  2.0 unx     3107 b- defN 22-Oct-26 20:43 k1lib/knn.py
 -rw-rw-r--  2.0 unx     3564 b- defN 23-Jan-25 02:48 k1lib/p5.py
 -rw-rw-r--  2.0 unx     8077 b- defN 22-May-06 21:09 k1lib/schedule.py
 -rw-rw-r--  2.0 unx    17767 b- defN 22-Sep-29 07:48 k1lib/selector.py
 -rw-rw-r--  2.0 unx    16046 b- defN 23-Apr-17 15:17 k1lib/viz.py
@@ -54,31 +54,31 @@
 -rw-rw-r--  2.0 unx     6672 b- defN 23-Jan-25 02:02 k1lib/cli/gb.py
 -rw-rw-r--  2.0 unx     6348 b- defN 23-Apr-05 15:10 k1lib/cli/grep.py
 -rw-rw-r--  2.0 unx    17990 b- defN 23-Apr-28 15:44 k1lib/cli/init.py
 -rw-rw-r--  2.0 unx    20950 b- defN 23-Apr-05 14:54 k1lib/cli/inp.py
 -rw-rw-r--  2.0 unx      623 b- defN 22-Jun-22 10:43 k1lib/cli/kcsv.py
 -rw-rw-r--  2.0 unx     4819 b- defN 22-Aug-11 20:44 k1lib/cli/kxml.py
 -rw-rw-r--  2.0 unx     1915 b- defN 21-Nov-12 16:48 k1lib/cli/mgi.py
--rw-rw-r--  2.0 unx    34236 b- defN 23-Apr-26 17:31 k1lib/cli/modifier.py
+-rw-rw-r--  2.0 unx    34374 b- defN 23-Apr-28 19:19 k1lib/cli/modifier.py
 -rw-rw-r--  2.0 unx      694 b- defN 22-Nov-27 07:17 k1lib/cli/mol.py
 -rw-rw-r--  2.0 unx     3551 b- defN 23-Feb-02 17:12 k1lib/cli/nb.py
 -rw-rw-r--  2.0 unx     3530 b- defN 22-Aug-16 15:08 k1lib/cli/optimizations.py
 -rw-rw-r--  2.0 unx    11559 b- defN 23-Apr-25 00:01 k1lib/cli/output.py
 -rw-rw-r--  2.0 unx     2394 b- defN 23-Jan-25 02:03 k1lib/cli/sam.py
 -rw-rw-r--  2.0 unx    41816 b- defN 23-Apr-26 16:05 k1lib/cli/structural.py
 -rw-rw-r--  2.0 unx    10399 b- defN 22-Aug-05 01:15 k1lib/cli/trace.py
 -rw-rw-r--  2.0 unx    23319 b- defN 22-Sep-29 07:14 k1lib/cli/typehint.py
 -rw-rw-r--  2.0 unx    20345 b- defN 23-Apr-26 17:09 k1lib/cli/utils.py
 -rw-rw-r--  2.0 unx       20 b- defN 23-Jan-19 22:00 k1lib/k1ui/__init__.py
 -rw-rw-r--  2.0 unx    61803 b- defN 23-Feb-10 12:10 k1lib/k1ui/main.py
 -rw-rw-r--  2.0 unx       20 b- defN 22-Sep-16 01:12 k1lib/serve/__init__.py
 -rw-rw-r--  2.0 unx    10093 b- defN 23-Mar-19 11:14 k1lib/serve/main.py
 -rw-rw-r--  2.0 unx      642 b- defN 23-Feb-13 19:00 k1lib/serve/suffix.py
--rw-rw-r--  2.0 unx  2453826 b- defN 23-Jan-19 22:50 k1lib-1.3.5.2.data/data/k1lib/k1ui/256.model.state_dict.pth
--rw-rw-r--  2.0 unx   304735 b- defN 23-Jan-17 19:16 k1lib-1.3.5.2.data/data/k1lib/k1ui/mouseKey.pth
--rw-rw-r--  2.0 unx    20544 b- defN 23-Mar-19 11:14 k1lib-1.3.5.2.data/data/k1lib/serve/main.html
--rw-rw-r--  2.0 unx     1049 b- defN 23-Apr-28 15:44 k1lib-1.3.5.2.dist-info/LICENSE
--rw-rw-r--  2.0 unx     2913 b- defN 23-Apr-28 15:44 k1lib-1.3.5.2.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-Apr-28 15:44 k1lib-1.3.5.2.dist-info/WHEEL
--rw-rw-r--  2.0 unx        6 b- defN 23-Apr-28 15:44 k1lib-1.3.5.2.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     6543 b- defN 23-Apr-28 15:44 k1lib-1.3.5.2.dist-info/RECORD
-82 files, 3446657 bytes uncompressed, 2510801 bytes compressed:  27.2%
+-rw-rw-r--  2.0 unx  2453826 b- defN 23-Jan-19 22:50 k1lib-1.3.5.3.data/data/k1lib/k1ui/256.model.state_dict.pth
+-rw-rw-r--  2.0 unx   304735 b- defN 23-Jan-17 19:16 k1lib-1.3.5.3.data/data/k1lib/k1ui/mouseKey.pth
+-rw-rw-r--  2.0 unx    20544 b- defN 23-Mar-19 11:14 k1lib-1.3.5.3.data/data/k1lib/serve/main.html
+-rw-rw-r--  2.0 unx     1049 b- defN 23-Apr-28 22:54 k1lib-1.3.5.3.dist-info/LICENSE
+-rw-rw-r--  2.0 unx     2913 b- defN 23-Apr-28 22:54 k1lib-1.3.5.3.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-Apr-28 22:54 k1lib-1.3.5.3.dist-info/WHEEL
+-rw-rw-r--  2.0 unx        6 b- defN 23-Apr-28 22:54 k1lib-1.3.5.3.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     6543 b- defN 23-Apr-28 22:54 k1lib-1.3.5.3.dist-info/RECORD
+82 files, 3447254 bytes uncompressed, 2511020 bytes compressed:  27.2%
```

## zipnote {}

```diff
@@ -216,32 +216,32 @@
 
 Filename: k1lib/serve/main.py
 Comment: 
 
 Filename: k1lib/serve/suffix.py
 Comment: 
 
-Filename: k1lib-1.3.5.2.data/data/k1lib/k1ui/256.model.state_dict.pth
+Filename: k1lib-1.3.5.3.data/data/k1lib/k1ui/256.model.state_dict.pth
 Comment: 
 
-Filename: k1lib-1.3.5.2.data/data/k1lib/k1ui/mouseKey.pth
+Filename: k1lib-1.3.5.3.data/data/k1lib/k1ui/mouseKey.pth
 Comment: 
 
-Filename: k1lib-1.3.5.2.data/data/k1lib/serve/main.html
+Filename: k1lib-1.3.5.3.data/data/k1lib/serve/main.html
 Comment: 
 
-Filename: k1lib-1.3.5.2.dist-info/LICENSE
+Filename: k1lib-1.3.5.3.dist-info/LICENSE
 Comment: 
 
-Filename: k1lib-1.3.5.2.dist-info/METADATA
+Filename: k1lib-1.3.5.3.dist-info/METADATA
 Comment: 
 
-Filename: k1lib-1.3.5.2.dist-info/WHEEL
+Filename: k1lib-1.3.5.3.dist-info/WHEEL
 Comment: 
 
-Filename: k1lib-1.3.5.2.dist-info/top_level.txt
+Filename: k1lib-1.3.5.3.dist-info/top_level.txt
 Comment: 
 
-Filename: k1lib-1.3.5.2.dist-info/RECORD
+Filename: k1lib-1.3.5.3.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## k1lib/fmt.py

```diff
@@ -4,16 +4,17 @@
 automatically with::
 
    from k1lib.imports import *
    fmt.txt # exposed
 """
 import k1lib, math; from k1lib import cli
 from typing import Dict, Iterator, Tuple
+pygments = k1lib.dep("pygments")
 __all__ = ["generic", "metricPrefixes", "size", "sizeOf",
-           "comp", "compRate", "time", "item", "throughput", "txt"]
+           "comp", "compRate", "time", "item", "throughput", "txt", "code"]
 k1lib.settings.add("fmt", k1lib.Settings().add("separator", True, "whether to have a space between the number and the unit"), "from k1lib.fmt module");
 settings = k1lib.settings.fmt
 metricPrefixes = {-8:"y",-7:"z",-6:"a",-5:"f",-4:"p",-3:"n",-2:"u",-1:"m",0:"",1:"k",2:"M",3:"G",4:"T",5:"P",6:"E",7:"Z",8:"Y"}
 #metricPrefixes = ["", "k", "M", "G", "T", "P", "E", "Z", "Y"]
 def generic(x, units:Dict[int, str]):
     c = " " if settings.separator else ""
     for i, unit in units.items():
@@ -140,8 +141,21 @@
     @staticmethod
     def grey(s:str):      return f"{_esc}38;2;150;150;150m{s}{_end}"
     @staticmethod
     def darkgrey(s:str):  return f"{_esc}38;2;100;100;100m{s}{_end}"
     @staticmethod
     def underline(s:str): return f"{_esc}4m{s}{_end}"
     @staticmethod
-    def identity(s:str):  return f"{s}"
+    def identity(s:str):  return f"{s}"
+class code:
+    def python(code:str):
+        """Formats Python code.
+Example::
+
+    fmt.code.python(\"\"\"
+    def f(x:int):
+        return x + 3
+    \"\"\") | aS(IPython.display.HTML)
+"""
+        a = "<style>" + pygments.formatters.HtmlFormatter().get_style_defs(".highlight") + "</style>"
+        b = pygments.highlight(code, pygments.lexers.PythonLexer(), pygments.formatters.HtmlFormatter())
+        return a + b
```

## k1lib/cli/modifier.py

```diff
@@ -258,34 +258,35 @@
             for i, e in enumerate(it):
                 if i % n == 0:
                     if self.p is not None: self.p.close(); self.ps.remove(self.p)
                     gc.collect(); newPool()
                 yield e
         common = dill.dumps([self.f, self.kwargs])
         def gen(it):
-            try:
-                if self.newPoolEvery > 0: it = intercept(it, self.newPoolEvery)
-                else: newPool()
-                fs = deque()
-                for i, line in zip(range(self.prefetch), it):
-                    fs.append(self.p.apply_async(executeFunc, [common, dill.dumps(line)]))
-                for line in it:
-                    yield fs.popleft().get(timeout)
-                    fs.append(self.p.apply_async(executeFunc, [common, dill.dumps(line)]))
-                for f in fs: yield f.get(timeout)
-            except KeyboardInterrupt as e:
-                print("applyMp interrupted. Terminating pool now")
-                for p in self.ps: p.terminate();
-                raise e
-            except Exception as e:
-                print("applyMp encounter errors. Terminating pool now")
-                for p in self.ps: p.terminate();
-                raise e
-            else:
-                for p in self.ps: p.terminate();
+            with k1lib.captureStdout(False, True) as out:
+                try:
+                    if self.newPoolEvery > 0: it = intercept(it, self.newPoolEvery)
+                    else: newPool()
+                    fs = deque()
+                    for i, line in zip(range(self.prefetch), it):
+                        fs.append(self.p.apply_async(executeFunc, [common, dill.dumps(line)]))
+                    for line in it:
+                        yield fs.popleft().get(timeout)
+                        fs.append(self.p.apply_async(executeFunc, [common, dill.dumps(line)]))
+                    for f in fs: yield f.get(timeout)
+                except KeyboardInterrupt as e:
+                    print("applyMp interrupted. Terminating pool now")
+                    for p in self.ps: p.terminate();
+                    raise e
+                except Exception as e:
+                    print("applyMp encounter errors. Terminating pool now")
+                    for p in self.ps: p.terminate();
+                    raise e
+                else:
+                    for p in self.ps: p.terminate();
         return gen(it)
     def _copy(self): return applyMp(self.f, self.prefetch, self.timeout, self.utilization, self.bs, self.newPoolEvery, **self.kwargs)
     def __invert__(self):
         """Expands the arguments out, just like :class:`apply`.
 Example::
 
     # returns [20, 20, 18, 14, 8, 0, -10, -22, -36, -52]
```

## Comparing `k1lib-1.3.5.2.data/data/k1lib/k1ui/256.model.state_dict.pth` & `k1lib-1.3.5.3.data/data/k1lib/k1ui/256.model.state_dict.pth`

 * *Files identical despite different names*

## Comparing `k1lib-1.3.5.2.data/data/k1lib/k1ui/mouseKey.pth` & `k1lib-1.3.5.3.data/data/k1lib/k1ui/mouseKey.pth`

 * *Files identical despite different names*

## Comparing `k1lib-1.3.5.2.data/data/k1lib/serve/main.html` & `k1lib-1.3.5.3.data/data/k1lib/serve/main.html`

 * *Files identical despite different names*

## Comparing `k1lib-1.3.5.2.dist-info/LICENSE` & `k1lib-1.3.5.3.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `k1lib-1.3.5.2.dist-info/METADATA` & `k1lib-1.3.5.3.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: k1lib
-Version: 1.3.5.2
+Version: 1.3.5.3
 Summary: Some nice ML overhaul
 Home-page: https://k1lib.com
 Author: Quang Ho
 Author-email: 157239q@gmail.com
 License: MIT
 Requires-Python: >=3.7
 Description-Content-Type: text/markdown
```

## Comparing `k1lib-1.3.5.2.dist-info/RECORD` & `k1lib-1.3.5.3.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -4,15 +4,15 @@
 k1lib/_context.py,sha256=8GnsFmpVcksToG4jhD3TXfufc0U6633hR7DMoLpLpH4,4234
 k1lib/_higher.py,sha256=BZ54rlMNygGrKBZjLpakicQ_FDSt936X5sgfJnvns2Y,2866
 k1lib/_k1a.py,sha256=i-_CPMBdiE-CCI375eaguwcC01dGHar4SlaaQDFsRwg,948
 k1lib/_learner.py,sha256=63aPrhGE5jO1YApvsIcn_HXA1E4ttLfyZVkIUE-meqA,11646
 k1lib/_monkey.py,sha256=EykKKRgP6P4GoRyA-nSwYIMWEPaDgHGHURuhzW2PI3I,19050
 k1lib/_perlin.py,sha256=sL4B8caVEz4xgWj65Oy3FYxELGDM8wPAtsn0Ro8R3dc,3571
 k1lib/eqn.py,sha256=1wchJwyCIOxbEzf9keQsnvhQfqbHe_cgPzI2crtuHRw,13377
-k1lib/fmt.py,sha256=1FGUWCd5Yz5T1K-31mD5-_waAcp8Nz1j525PamauH7c,4828
+k1lib/fmt.py,sha256=VROD5o8fF04VhVE21PvhMGUZIMv9yYdAnihf1Uztb3k,5287
 k1lib/graphEqn.py,sha256=DkdJlDcgC8THRuOFXGsbNuuA94_pUYy3jaU7XcggDLw,6398
 k1lib/imports.py,sha256=aYtGZaP8cX9LMbMeC2CKR-ofygfAzSwP0ajF94RL3Rw,2555
 k1lib/knn.py,sha256=LASgb0z_9x1u4eZTsat_FspX1g5aIyxjkEWHhKRTn1g,3107
 k1lib/p5.py,sha256=nB0XmMXSz6CuDDZveGgsMCMhoKBXOG_rF0tjkCxJCec,3564
 k1lib/schedule.py,sha256=g5ZBD5zSRSjANsNAmBRoCiYpRkFsHUpjwNuj_goiD0w,8077
 k1lib/selector.py,sha256=lF7Qq-YuVbP2-kPEqBQo0dVy1SOMfH_REcheZ1G693o,17767
 k1lib/viz.py,sha256=5WGqdlJKk3bTz-aEGJgLfm7X892rxSHUWWEkx0w73bg,16046
@@ -53,30 +53,30 @@
 k1lib/cli/gb.py,sha256=xxjuNYgWrrElRckon3gP0sj-dShYnKs3jmHAb1U0kVI,6672
 k1lib/cli/grep.py,sha256=Lu4PFOe2pkaqd-UfJe_HhHCUFTUifE6Bh96_k80sQDA,6348
 k1lib/cli/init.py,sha256=bbLyTveUCtvu7zLfrWJxgab70t035Ku0lo1loPBcbLU,17990
 k1lib/cli/inp.py,sha256=O2EBUvD9D6y8G0KnFbf9RNGlAw07ajWoUl-7CtJTJFM,20950
 k1lib/cli/kcsv.py,sha256=YGUVVLTZGGujokhxtj5MfjU9t1jRGqp23d58JK8lhq0,623
 k1lib/cli/kxml.py,sha256=YQGutvKNm0_xAi_NhCNtuGey7fx3zZSmSo33kS--54c,4819
 k1lib/cli/mgi.py,sha256=aLke90nG89tgWLPwyKmTj3kM8yJnIBCJSrPS1jT8mUk,1915
-k1lib/cli/modifier.py,sha256=d6sod9ScgrHrapFP9cQr-_DUQ5rk_dv9c8wHzSJGlTA,34236
+k1lib/cli/modifier.py,sha256=UhB2lTtNV56GVTqly0vTaQ5Pvku0acrwQ3vwFM2ZbWQ,34374
 k1lib/cli/mol.py,sha256=wNFuCPXtdEcH4DRBbmYaLAWxtDzjN2MOKFX7ynJhaJs,694
 k1lib/cli/nb.py,sha256=SHqhYHJrzV8IzH3wM1Kb0LOVseOa1XXDKUtYE_2KTkQ,3551
 k1lib/cli/optimizations.py,sha256=iZ73DwLqZCxRm0sECVZ7A2nDxf5D4rsoSGzrKTgzGaI,3530
 k1lib/cli/output.py,sha256=HQD61-Epy6WfteMHXW6SV14SiprXF55ELnfer2CWXEA,11559
 k1lib/cli/sam.py,sha256=_ersEPP2ue0Oa3AyftNjQu2PABpH4L7iFBbRJDOkeug,2394
 k1lib/cli/structural.py,sha256=cNxiaIGgNxsqnqDjxMEWUj1WqQWnzdGbHSbkRxYP4h4,41816
 k1lib/cli/trace.py,sha256=nzZgOyXqFJYkQfbpR0lpX0Nnp0bQHXPjk8sDUBIe2hk,10399
 k1lib/cli/typehint.py,sha256=VBYxrOQaSnu5266lNWpgXIhXF7htdT0FT_NEvXjYBVk,23319
 k1lib/cli/utils.py,sha256=gaHYEw2_gjqNjOQFLUfa3JAXXwi6vZPCQqKwDuhrUDg,20345
 k1lib/k1ui/__init__.py,sha256=8D5a8oKgqd6WA1RUkiKCn4l_PVemtyuckxQut0vDHXM,20
 k1lib/k1ui/main.py,sha256=PnmdOhkjYgRSZnDyGYNMYtQ5Nvcb1NhQ9yjfP_3QORI,61803
 k1lib/serve/__init__.py,sha256=8D5a8oKgqd6WA1RUkiKCn4l_PVemtyuckxQut0vDHXM,20
 k1lib/serve/main.py,sha256=SXZADDxXqZkxALeO01xwGKJ7c1sYMn4DjdY3RitMUaI,10093
 k1lib/serve/suffix.py,sha256=UH3ITN6O2vzoha2f6v4bcQG3_Boav7VA7EC8wf8r9f8,642
-k1lib-1.3.5.2.data/data/k1lib/k1ui/256.model.state_dict.pth,sha256=Ga-UXlAJfUPNOZsvP_c1-1cfB2Hp_-oQ4ghdouX1d7g,2453826
-k1lib-1.3.5.2.data/data/k1lib/k1ui/mouseKey.pth,sha256=KULhK_gdK2Ppju9gQnv1zV2kf_A0K-vX2W7trY6DIg8,304735
-k1lib-1.3.5.2.data/data/k1lib/serve/main.html,sha256=gHFNqzE9JKb4eCwCJN-Du45jj75lDRED4Ico91T-b4g,20544
-k1lib-1.3.5.2.dist-info/LICENSE,sha256=psuy2wnTg9zacuCQ0dXfxS44iaa89aTgsNzHDzx4UGM,1049
-k1lib-1.3.5.2.dist-info/METADATA,sha256=SnwhlmNdWl-oBzbbMK3Rl1z8RvtY88WXyL5nkUK9z2E,2913
-k1lib-1.3.5.2.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-k1lib-1.3.5.2.dist-info/top_level.txt,sha256=xxWmqZzuThnLZn49Mse6A6j41-IVduPVnQW54imcOTA,6
-k1lib-1.3.5.2.dist-info/RECORD,,
+k1lib-1.3.5.3.data/data/k1lib/k1ui/256.model.state_dict.pth,sha256=Ga-UXlAJfUPNOZsvP_c1-1cfB2Hp_-oQ4ghdouX1d7g,2453826
+k1lib-1.3.5.3.data/data/k1lib/k1ui/mouseKey.pth,sha256=KULhK_gdK2Ppju9gQnv1zV2kf_A0K-vX2W7trY6DIg8,304735
+k1lib-1.3.5.3.data/data/k1lib/serve/main.html,sha256=gHFNqzE9JKb4eCwCJN-Du45jj75lDRED4Ico91T-b4g,20544
+k1lib-1.3.5.3.dist-info/LICENSE,sha256=psuy2wnTg9zacuCQ0dXfxS44iaa89aTgsNzHDzx4UGM,1049
+k1lib-1.3.5.3.dist-info/METADATA,sha256=51TkqLuIdLbgYAEv-klSGELEDALZYab7fVVlyfwXKR4,2913
+k1lib-1.3.5.3.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+k1lib-1.3.5.3.dist-info/top_level.txt,sha256=xxWmqZzuThnLZn49Mse6A6j41-IVduPVnQW54imcOTA,6
+k1lib-1.3.5.3.dist-info/RECORD,,
```

